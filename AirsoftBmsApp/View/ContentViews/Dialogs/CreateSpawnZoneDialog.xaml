<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AirsoftBmsApp.View.ContentViews.Dialogs.CreateSpawnZoneDialog"
             x:Name="CreateSpawnDialog"
             xmlns:text="clr-namespace:AirsoftBmsApp.View.ContentViews.Text"
             xmlns:buttons="clr-namespace:AirsoftBmsApp.View.ContentViews.Buttons"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:inputs="clr-namespace:AirsoftBmsApp.View.ContentViews.Inputs"
             xmlns:langs="clr-namespace:AirsoftBmsApp.Resources.Languages"
             IsVisible="{Binding CreateSpawnZoneDialogState.IsVisible, Source={x:Reference CreateSpawnDialog}}"
             >
    <Grid   
        BackgroundColor="#80000000"   
        VerticalOptions="Fill"  
        CascadeInputTransparent="False"  
        HorizontalOptions="Fill">

        <Grid.GestureRecognizers>
            <TapGestureRecognizer/>
        </Grid.GestureRecognizers>

        <Border
            HorizontalOptions="Center"
            VerticalOptions="Center"
            BackgroundColor="{toolkit:AppThemeResource SurfaceSecond}"
            Margin="40"
            StrokeShape="RoundRectangle 30"
            Stroke="{toolkit:AppThemeResource Outline}"
            WidthRequest="350"
        >
            <Grid 
                RowDefinitions="auto,auto,auto"
                RowSpacing="10"
                ColumnDefinitions="*,*"
                ColumnSpacing="10"
                Padding="10,15"
                BindingContext="{Binding Source={x:Reference CreateSpawnDialog}}"
                >
                <text:Header Text="{Static langs:AppResources.CreateSpawnTitle}" Grid.Row="0" Grid.ColumnSpan="2"/>

                <Border
                    Grid.Row="1"
                    Grid.ColumnSpan="2"
                    Stroke="{toolkit:AppThemeResource Outline}"
                    StrokeShape="RoundRectangle 15"
                    HeightRequest="45"
                >
                    <Picker 
                        ItemsSource="{Binding CreateSpawnZoneDialogState.Teams}"
                        SelectedItem="{Binding CreateSpawnZoneDialogState.SelectedTeam}"
                        ItemDisplayBinding="{Binding Name}"
                        Title="{OnPlatform Default={Static langs:AppResources.TeamPickerText}, WinUI=''}"
                        FontFamily="{StaticResource GlobalFont}"
                        VerticalTextAlignment="Center" 
                        VerticalOptions="Fill"
                        HorizontalOptions="Fill"
                        Margin="10,0,0,0"
                    />
                </Border>

                <buttons:FilledButton 
                    Grid.Row="2"
                    Grid.Column="0"
                    Text="{Static langs:AppResources.OkButton}"
                    Command="{Binding OkCommand}"
                    />

                <buttons:OutlinedButton 
                    Grid.Row="2"
                    Grid.Column="1"
                    Text="{Static langs:AppResources.BackButton}"
                    Command="{Binding BackCommand}"
                    />
            </Grid>
        </Border>
    </Grid>
</ContentView>
