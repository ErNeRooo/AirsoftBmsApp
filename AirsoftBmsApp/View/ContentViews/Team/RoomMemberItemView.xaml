<?xml version="1.0" encoding="utf-8" ?>
<Border
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="using:AirsoftBmsApp.View.ContentViews.Team"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:models="clr-namespace:AirsoftBmsApp.Model.Observable"
    x:Class="AirsoftBmsApp.View.ContentViews.Team.RoomMemberItemView"
    BackgroundColor="{Binding BindingContext.TeamTheme.SurfaceColor, Source={RelativeSource AncestorType={x:Type local:TeamView}}}"
    StrokeShape="RoundRectangle 25"
    StrokeThickness="0"
    Padding="10, 5"
    x:DataType="models:ObservablePlayer"
    >
    <Border.GestureRecognizers>
        <TapGestureRecognizer
            Command="{Binding ShowPlayerProfileCommand, Source={RelativeSource AncestorType={x:Type local:TeamsScrollView}}}"
            CommandParameter="{Binding Id}">
        </TapGestureRecognizer>
    </Border.GestureRecognizers>

    <Grid ColumnDefinitions="auto,auto,auto,auto,auto,*,auto,auto">
        <Image 
            x:Name="AdminIcon"
            Grid.Column="0"
            Source="{OnPlatform Default='room_admin_icon.svg', WinUI='room_admin_icon.png'}"
            MaximumHeightRequest="{OnPlatform Default=18, WinUI=16}"
            MinimumWidthRequest="{OnPlatform Default=18, WinUI=16}"
            Margin="0,0,5,0"
            IsVisible="{Binding IsAdmin}"
            >
        </Image>

        <Image 
            x:Name="OfficerIcon"
            Grid.Column="1"
            Source="{OnPlatform Default='team_officer_icon.svg', WinUI='team_officer_icon.png'}"
            MaximumHeightRequest="{OnPlatform Default=18, WinUI=16}"
            MinimumWidthRequest="{OnPlatform Default=18, WinUI=16}"
            Margin="0,0,5,0"
            IsVisible="{Binding IsOfficer}"
            />

        <Label
            Grid.Column="2"
            FontFamily="{StaticResource GlobalFont}" 
            FontSize="{OnPlatform Default=12, WinUI=14}"
            TextColor="{Binding BindingContext.TeamTheme.FontColor, Source={RelativeSource AncestorType={x:Type local:TeamView}}}"
            Margin="0,0,5,0"
            Text="{Binding Name}"
            >
            <Label.Triggers>
                <DataTrigger
                    TargetType="Label"
                    Binding="{Binding IsDead}"
                    Value="true"
                    >
                    <Setter Property="TextDecorations" Value="Strikethrough" />
                    <Setter Property="TextColor" Value="{StaticResource Outline}" />
                </DataTrigger>
            </Label.Triggers>
        </Label>

        <Image 
            x:Name="DeadIcon"
            Grid.Column="3"
            Source="{OnPlatform Default='skull_icon.svg', WinUI='skull_icon.png'}"
            MaximumHeightRequest="{OnPlatform Default=18, WinUI=16}"
            MinimumWidthRequest="{OnPlatform Default=18, WinUI=16}"
            
            IsVisible="{Binding IsDead}"
            />

        <Label
            Grid.Column="5"
            FontFamily="{StaticResource GlobalFont}"
            FontSize="{OnPlatform Default=12, WinUI=14}"
            Margin="0,0,20,0"
            HorizontalOptions="End"
            Text="{Binding Kills.Count}"
            />

        <Label
            Grid.Column="6"
            FontFamily="{StaticResource GlobalFont}"
            FontSize="{OnPlatform Default=12, WinUI=14}"
            Margin="0,0,5,0"
            HorizontalOptions="End"
            Text="{Binding Deaths.Count}"
            />
    </Grid>
</Border>
